---
import { formatUYU, buildWhatsAppLink } from "@lib/whatsapp";
const { service, brand, whatsapp } = Astro.props;

const msg = `Hola, quiero un turno para ${service.nombre} en ${brand}. Â¿Tienen disponibilidad hoy?`;
const href = buildWhatsAppLink(whatsapp, msg);
---
<div class="rounded-2xl border border-white/10 bg-white/5 p-5 hover:bg-white/7 transition shadow-soft">
  <div class="flex items-start justify-between gap-3">
    <div>
      <div class="flex items-center gap-2">
        <h3 class="font-semibold text-zinc-50">{service.nombre}</h3>
        {service.popular && (
          <span class="text-[11px] rounded-full bg-cyanA-500/15 border border-cyanA-500/25 px-2 py-0.5 text-cyanA-500">
            Popular
          </span>
        )}
      </div>
      <p class="mt-2 text-sm text-zinc-400">{service.descripcion}</p>
    </div>
    <div class="text-right">
      <div class="text-sm text-zinc-400">{service.duracion} min</div>
      <div class="text-lg font-semibold text-zinc-50">{formatUYU(service.precio)}</div>
    </div>
  </div>

  <div class="mt-4 flex gap-2">
    <a
      href={`/turnos?servicio=${encodeURIComponent(service.nombre)}`}
      class="flex-1 rounded-xl border border-white/10 bg-white/5 px-4 py-2 text-center text-sm font-semibold text-zinc-100 hover:bg-white/10 transition"
    >
      Elegir horario
    </a>
    <a
      href={href}
      target="_blank"
      rel="noreferrer"
      class="flex-1 rounded-xl bg-cyanA-500/15 border border-cyanA-500/25 px-4 py-2 text-center text-sm font-semibold text-cyanA-500 hover:bg-cyanA-500/20 transition"
    >
      Reservar
    </a>
  </div>
</div>
